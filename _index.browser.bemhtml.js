var BEMHTML=function(t,e){return function(i){if("object"==typeof e&&"undefined"!=typeof t)t.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.BEMHTML=i()}}(function(){return function t(e,i,n){function s(o,h){if(!i[o]){if(!e[o]){var c="function"==typeof require&&require;if(!h&&c)return c(o,!0);if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var a=i[o]={exports:{}};e[o][0].call(a.exports,function(t){var i=e[o][1][t];return s(i?i:t)},a,a.exports,t,e,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(t,e,i){function n(t){this.modDelim=t.mod||"_",this.elemDelim=t.elem||"__"}i.ClassBuilder=n,n.prototype.build=function(t,e){return void 0===e?t:t+this.elemDelim+e},n.prototype.buildModPostfix=function(t,e){var i=this.modDelim+t;return e!==!0&&(i+=this.modDelim+e),i},n.prototype.buildBlockClass=function(t,e,i){var n=t;return i&&(n+=this.buildModPostfix(e,i)),n},n.prototype.buildElemClass=function(t,e,i,n){var s=this.buildBlockClass(t)+this.elemDelim+e;return n&&(s+=this.buildModPostfix(i,n)),s},n.prototype.split=function(t){return t.split(this.elemDelim,2)}},{}],2:[function(t,e,i){function n(t){this._bemhtml=t,this.ctx=null,this.block="",this._currBlock="",this.elem=null,this.mods={},this.elemMods={},this.position=0,this._listLength=0,this._notNewList=!1,this._uniq=null,this._onceRef={}}var s=t("./utils");i.Context=n,n.prototype._flush=null,n.prototype.isArray=s.isArray,n.prototype.isSimple=s.isSimple,n.prototype.isShortTag=s.isShortTag,n.prototype.extend=s.extend,n.prototype.identify=s.identify,n.prototype.xmlEscape=s.xmlEscape,n.prototype.attrEscape=s.attrEscape,n.prototype.jsAttrEscape=s.jsAttrEscape,n.prototype.BEM={},n.prototype.isFirst=function(){return 1===this.position},n.prototype.isLast=function(){return this.position===this._listLength},n.prototype.generateId=function(){return null===this._uniq&&(this._uniq=s.getUniq()),this._uniq},n.prototype.reapply=function(t){return this._bemhtml.run(t)}},{"./utils":7}],3:[function(t,e,i){function n(t,e,i,n){this.bemhtml=t,this.block=null,this.elem=null,this.jsClass=null,this.canFlush=!0,this.options={},this.def=new l(this),this.tag=new l(this),this.attrs=new l(this),this.mod=new l(this),this.js=new l(this),this.mix=new l(this),this.bem=new l(this),this.cls=new l(this),this.content=new l(this),this.rest={},this.init(e,i),this.initModes(n)}function s(){return this.ctx.content}var r=t("./utils"),o=t("./tree").Template,h=t("./tree").PropertyMatch,c=t("./tree").CompilerOptions,l=t("./match").Match;i.Entity=n,n.prototype.init=function(t,e){this.block=t,this.elem=e,this.jsClass=this.bemhtml.classBuilder.build(this.block,this.elem)},n.prototype.initModes=function(t){for(var e=0;e<t.length;e++){for(var i=t[e],n=i.predicates.length-1;n>=0;n--){var s=i.predicates[n];if(s instanceof h&&"_mode"===s.key){i.predicates.splice(n,1),this._initRest(s.value),this.rest[s.value].push(i);break}}-1===n&&this.def.push(i);for(var n=i.predicates.length-1;n>=0;n--){var s=i.predicates[n];s instanceof c&&(this.options=r.extend(this.options,s.options))}}},n.prototype._initRest=function(t){"tag"===t||"attrs"===t||"js"===t||"mix"===t||"bem"===t||"cls"===t||"content"===t||"default"===t?this.rest[t]="default"===t?this.def:this[t]:this.rest.hasOwnProperty(t)||(this.rest[t]=new l(this))},n.prototype.setDefaults=function(){if(0!==this.content.count&&this.content.push(new o([],s)),0!==this.def.count){this.canFlush=this.options.flush||!1;var t=this;this.def.push(new o([],function(){return t.defaultBody(this)}))}},n.prototype.prepend=function(t){for(var e=Object.keys(this.rest),i=0;i<e.length;i++){var n=e[i];t.rest[n]&&this.rest[n].prepend(t.rest[n])}e=Object.keys(t.rest);for(var i=0;i<e.length;i++){var n=e[i];this.rest[n]||(this._initRest(n),this.rest[n].prepend(t.rest[n]))}},n.prototype.run=function(t){return 0!==this.def.count?this.def.exec(t):this.defaultBody(t)},n.prototype.defaultBody=function(t){var e=t.ctx.tag;void 0===e&&(e=this.tag.exec(t));var i;t.ctx.js!==!1&&(i=this.js.exec(t));var n=this.bem.exec(t),s=this.cls.exec(t),r=this.mix.exec(t),o=this.attrs.exec(t),h=this.content.exec(t);return 0===this.content.count&&void 0===h&&(h=t.ctx.content),this.bemhtml.render(t,this,e,i,n,s,r,o,h)}},{"./match":5,"./tree":6,"./utils":7}],4:[function(t,e){function i(t){this.options=t||{},this.entities=null,this.defaultEnt=null,this.tree=null,this.match=null,this.contextConstructor=function(t){h.call(this,t)},n(this.contextConstructor,h),this.context=null,this.classBuilder=new c(this.options.naming||{}),this.depth=0,this.canFlush=!1,this.oninit=null,this.defaultEnt=new o(this,"","",[]),this.defaultElemEnt=new o(this,"","",[])}var n=t("inherits"),s=t("./tree").Tree,r=t("./tree").PropertyMatch,o=t("./entity").Entity,h=t("./context").Context,c=t("./class-builder").ClassBuilder,l=t("./utils");e.exports=i,i.locals=s.methods.concat("local","applyCtx","applyNext","apply"),i.prototype.compile=function(t){function e(){return o._run(o.context.ctx)}function i(t,i){return i?o.local(i,function(){return o.local({ctx:t},e)}):o.local({ctx:t},e)}function n(t,e){return o.applyMode(t,e)}function r(t){return function(e){return o.local(t,e)}}var o=this,h=new s({refs:{applyCtx:i,local:r}}),c=this.recompileInput(t),l=h.build(c,[r,i,function u(t){return t?o.local(t,u):o.applyNext()},n]);this.tree&&(l={templates:l.templates.concat(this.tree.templates),oninit:this.tree.oninit.concat(l.oninit)}),this.tree=l;var a=this.groupEntities(l.templates);a=this.transformEntities(a),this.entities=a,this.oninit=l.oninit},i.prototype.recompileInput=function(t){var e=t.toString(),n=i.locals.join(", ");if("function"==typeof t){var s=e.match(/^function([^{]+){/);if(null!==s&&-1!==s[1].indexOf("("+n+")"))return t}return e=e.replace(/^function[^{]+{|}$/g,""),e=new Function(n,e)},i.prototype.groupEntities=function(t){for(var e={},i=0;i<t.length;i++){var n,s=t[i].clone(),o=null;n=void 0;for(var h=0;h<s.predicates.length;h++){var c=s.predicates[h];if(c instanceof r){if("block"===c.key)o=c.value;else{if("elem"!==c.key)continue;n=c.value}s.predicates.splice(h,1),h--}}if(null===o)throw new Error('block("...") not found in one of the templates');var l=this.classBuilder.build(o,n);e[l]||(e[l]=[]),e[l].push(s)}return e},i.prototype.transformEntities=function(t){for(var e=[],i=Object.keys(t),n=0;n<i.length;n++){var s=i[n],r=this.classBuilder.split(s),h=r[0],c=r[1];"*"===c&&e.push(h),t[s]=new o(this,h,c,t[s])}if(t.hasOwnProperty("*")){for(var l=t["*"],n=0;n<i.length;n++){var s=i[n];"*"!==s&&t[s].prepend(l)}this.defaultEnt.prepend(l),this.defaultElemEnt.prepend(l)}for(var n=0;n<e.length;n++){for(var h=e[n],a=this.classBuilder.build(h,"*"),l=t[a],n=0;n<i.length;n++){var s=i[n];if(s!==a){var u=t[s];u.block===h&&void 0!==u.elem&&t[s].prepend(l)}}this.defaultElemEnt.prepend(l)}for(var n=0;n<i.length;n++){var s=i[n];t[s].setDefaults(),this.defaultEnt.setDefaults(),this.defaultElemEnt.setDefaults()}return t},i.prototype._run=function(t){var e;return e=void 0===t||""===t||null===t?this.runEmpty():l.isArray(t)?this.runMany(t):l.isSimple(t)?this.runSimple(t):this.runOne(t)},i.prototype.run=function(t){var e=this.match,i=this.context;this.match=null,this.context=new this.contextConstructor(this),this.canFlush=null!==this.context._flush,this.depth=0;var n=this._run(t);return this.canFlush&&(n=this.context._flush(n)),this.match=e,this.context=i,n},i.prototype.runEmpty=function(){return this.context._listLength--,""},i.prototype.runMany=function(t){var e="",i=this.context,n=i.position,s=i._notNewList;if(s?i._listLength+=t.length-1:(i.position=0,i._listLength=t.length),i._notNewList=!0,this.canFlush)for(var r=0;r<t.length;r++)e+=i._flush(this._run(t[r]));else for(var r=0;r<t.length;r++)e+=this._run(t[r]);return s||(i.position=n),e},i.prototype.runSimple=function(t){this.context._listLength--;var e="";return(t&&t!==!0||0===t)&&(e+=t),e},i.prototype.runOne=function(t){var e=this.context,i=e.ctx,n=e.block,s=e._currBlock,r=e.elem,o=e.mods,h=e.elemMods;e._currBlock=t.block||t.elem?"":e.block,e.ctx=t,t.block?(e.block=t.block,e.mods=t.mods?t.mods:{}):t.elem?s&&(e.block=s):e.block="",e.elem=t.elem,e.elemMods=t.elemMods?t.elemMods:{};var c=e.block||"",l=e.elem;c||l?e.position++:e._listLength--,this.depth++;var a=this.classBuilder.build(c,l),u=!1,p=this.entities[a];p?this.canFlush&&!p.canFlush&&(u=!0,this.canFlush=!1):(p=this.defaultEnt,void 0!==l&&(p=this.defaultElemEnt),p.init(c,l));var f=p.run(e);return e.ctx=i,e.block=n,e.elem=r,e.mods=o,e.elemMods=h,e._currBlock=s,this.depth--,u&&(this.canFlush=!0),f},i.prototype.render=function(t,e,i,n,s,r,o,h,c){var a=t.ctx;if(void 0===i&&(i="div"),!i)return this.renderNoTag(t,n,s,r,o,h,c);var u="<"+i,p=a.js;p!==!1&&(n===!0&&(n={}),n?p!==!0&&(n=l.extend(p,n)):n=p===!0?{}:p);var f;n&&(f={},f[e.jsClass]=n);var d=s;void 0===d&&(d=void 0===a.bem?e.block||e.elem:a.bem),d=!!d,void 0===r&&(r=a.cls);var m=e.block&&f&&!e.elem;if(!d&&!r)return this.renderClose(u,t,i,h,d,a,c);if(u+=' class="',d){var y=a.elemMods||a.mods;!y&&a.block&&(y=t.mods),u+=e.jsClass,u+=this.buildModsClasses(e.block,e.elem,y);var v=o;if(a.mix&&(v=v?[].concat(v,a.mix):a.mix),v){var b=this.renderMix(e,v,f,m);u+=b.out,f=b.jsParams,m=b.addJSInitClass}r&&(u+=" "+r)}else r&&(u+=r);return u+=m?' i-bem"':'"',d&&f&&(u+=" data-bem='"+l.jsAttrEscape(JSON.stringify(f))+"'"),this.renderClose(u,t,i,h,d,a,c)},i.prototype.renderClose=function(t,e,i,n,s,r,o){var h=t;if(n=l.extend(n,r.attrs)){var c;for(c in n){var a=n[c];void 0!==a&&(h+=" "+c+'="'+l.attrEscape(l.isSimple(a)?a:this.reapply(a))+'"')}}return l.isShortTag(i)?(h+="/>",this.canFlush&&(h=e._flush(h))):(h+=">",this.canFlush&&(h=e._flush(h)),(o||0===o)&&(h+=this.renderContent(o,s)),h+="</"+i+">"),this.canFlush&&(h=e._flush(h)),h},i.prototype.renderMix=function(t,e,i,n){var s={},r=this.context,o=i,h=n;s[t.jsClass]=!0,l.isArray(e)||(e=[e]);for(var c=this.classBuilder,a="",u=0;u<e.length;u++){var p=e[u];if(void 0!==p){"string"==typeof p&&(p={block:p,elem:void 0});var f=p.block||p.elem,d=p.block||p._block||r.block,m=p.elem||p._elem||r.elem,y=c.build(d,m),v=p.elem||p._elem||(p.block?void 0:r.elem);if(f&&(a+=" "+c.build(d,v)),a+=this.buildModsClasses(d,v,p.elemMods||p.mods),p.js&&(o||(o={}),o[c.build(d,p.elem)]=p.js===!0?{}:p.js,h||(h=d&&!p.elem)),f&&!s[y]){s[y]=!0;var b=this.entities[y];if(b){var x=r.block,g=r.elem,k=b.mix.exec(r);if(r.elem=g,r.block=x,k)for(var w=0;w<k.length;w++){var _=k[w];(_.block||_.elem)&&s[c.build(_.block,_.elem)]||(_._block=d,_._elem=m,e=e.slice(0,u+1).concat(_,e.slice(u+1)))}}}}}return{out:a,jsParams:o,addJSInitClass:h}},i.prototype.buildModsClasses=function(t,e,i){if(!i)return"";var n,s="";for(n in i)if(i.hasOwnProperty(n)){var r=i[n];if(r||0===r){"boolean"!=typeof r&&(r+="");var o=this.classBuilder;s+=" "+(e?o.buildElemClass(t,e,n,r):o.buildBlockClass(t,n,r))}}return s},i.prototype.renderContent=function(t,e){var i=this.context,n=i.position,s=i._listLength,r=i._notNewList;i._notNewList=!1,e&&(i.position=1,i._listLength=1);var o=this._run(t);return i.position=n,i._listLength=s,i._notNewList=r,o},i.prototype.renderNoTag=function(t,e,i,n,s,r,o){return o||0===o?this._run(o):""},i.prototype.local=function(t,e){for(var i=Object.keys(t),n=[],s=0;s<i.length;s++){for(var r=i[s],o=r.split("."),h=this.context,c=0;c<o.length-1;c++)h=h[o[c]];n.push({parts:o,value:h[o[c]]}),h[o[c]]=t[r]}for(var l=e.call(this.context),s=0;s<n.length;s++){for(var o=n[s].parts,h=this.context,c=0;c<o.length-1;c++)h=h[o[c]];h[o[c]]=n[s].value}return l},i.prototype.applyNext=function(){return this.match.exec(this.context)},i.prototype.applyMode=function(t,e){var i=this.match.entity.rest[t];if(i){if(!e)return i.exec(this.context);var n=this,s=function(){return i.exec(n.context)};return this.local(e,s)}},i.prototype.exportApply=function(t){var e=this;t.apply=function(t){return e.run(t)},t.compile=function(t){return e.compile(t)};var i={};t.BEMContext=this.contextConstructor,i.BEMContext=t.BEMContext;for(var n=0;n<this.oninit.length;n++){var s=this.oninit[n];s(t,i)}}},{"./class-builder":1,"./context":2,"./entity":3,"./tree":6,"./utils":7,inherits:8}],5:[function(t,e,i){function n(t,e){this.template=t,this.key=e.key,this.value=e.value}function s(t,e){this.template=t,this.keys=e.key,this.value=e.value}function r(t,e){this.template=t,this.key=e.key}function o(t,e){this.template=t,this.body=e.body}function h(t){this.template=t,this.once=null}function c(t){this.template=t,this.wrap=null}function l(t,e){this.mode=t,this.predicates=new Array(e.predicates.length),this.body=e.body;for(var i=[],l=0,a=0;l<this.predicates.length;l++,a++){var v=e.predicates[l];v instanceof p?this.predicates[a]=u.isArray(v.key)?new s(this,v):new n(this,v):v instanceof m?this.predicates[a]=new r(this,v):v instanceof y?this.predicates[a]=new o(this,v):v instanceof f?(a--,i.push(new h(this))):v instanceof d?(a--,i.push(new c(this))):a--}for(var l=i.length-1;l>=0;l--)this.predicates[l+a]=this.predicates[l];for(var l=0;l<i.length;l++)this.predicates[l]=i[l];a+=i.length,this.predicates.length!==a&&(this.predicates.length=a)}function a(t){this.entity=t,this.bemhtml=this.entity.bemhtml,this.templates=[],this.mask=[0],this.maskSize=0,this.maskOffset=0,this.count=0,this.depth=-1}var u=t("./utils"),p=t("./tree").PropertyMatch,f=t("./tree").OnceMatch,d=t("./tree").WrapMatch,m=t("./tree").PropertyAbsent,y=t("./tree").CustomMatch;n.prototype.exec=function(t){return t[this.key]===this.value},s.prototype.exec=function(t){for(var e=t,i=0;i<this.keys.length-1;i++)if(e=e[this.keys[i]],!e)return!1;return e[this.keys[i]]===this.value},r.prototype.exec=function(t){return!t[this.key]},o.prototype.exec=function(t){return this.body.call(t)},h.prototype.exec=function(t){var e=this.once!==t._onceRef;return this.once=t._onceRef,e},c.prototype.exec=function(t){var e=this.wrap!==t.ctx;return this.wrap=t.ctx,e},i.MatchTemplate=l,i.Match=a,a.prototype.clone=function(t){var e=new a(t);return e.templates=this.templates.slice(),e.mask=this.mask.slice(),e.maskSize=this.maskSize,e.count=this.count,e},a.prototype.prepend=function(t){for(this.templates=t.templates.concat(this.templates),this.count+=t.count;Math.ceil(this.count/31)>this.mask.length;)this.mask.push(0);this.maskSize=this.mask.length},a.prototype.push=function(t){this.templates.push(new l(this,t)),this.count++,Math.ceil(this.count/31)>this.mask.length&&this.mask.push(0),this.maskSize=this.mask.length},a.prototype.exec=function(t){for(var e,i=this.checkDepth(),n=this.maskOffset,s=this.mask[n],r=1,o=0;o<this.count;o++){if(0===(s&r)){e=this.templates[o];for(var h=e.predicates.length-1;h>=0;h--){var c=e.predicates[h];if(!c.exec(t))break}if(-1===h)break}1073741824===r?(n++,s=this.mask[n],r=1):r<<=1}if(o===this.count)return void 0;var l=s,a=this.bemhtml.match;this.mask[n]|=r,this.bemhtml.match=this;var u;return u="function"==typeof e.body?e.body.call(t):e.body,this.mask[n]=l,this.bemhtml.match=a,this.restoreDepth(i),u},a.prototype.checkDepth=function(){if(-1===this.depth)return this.depth=this.bemhtml.depth,-1;if(this.bemhtml.depth===this.depth)return this.depth;var t=this.depth;for(this.depth=this.bemhtml.depth,this.maskOffset+=this.maskSize;this.mask.length<this.maskOffset+this.maskSize;)this.mask.push(0);return t},a.prototype.restoreDepth=function(t){-1!==t&&t!==this.depth&&(this.maskOffset-=this.maskSize),this.depth=t}},{"./tree":6,"./utils":7}],6:[function(t,e,i){function n(t,e){this.predicates=t,this.body=e}function s(){}function r(t,e){this.conditions=[],this.children=[];for(var i=e.length-1;i>=0;i--){var n=e[i];n instanceof s?this.conditions.push(n):this.children[i]=n===t.boundBody?t.queue.pop():n}}function o(){s.call(this)}function h(t){s.call(this),this.refs=t}function c(t){s.call(this),this.refs=t}function l(t){s.call(this),this.refs=t}function a(t){s.call(this),this.options=t}function u(t,e){s.call(this),this.key=t,this.value=e}function p(t){s.call(this),this.key=t}function f(t){s.call(this),this.body=t}function d(t){this.options=t,this.refs=this.options.refs,this.boundBody=this.body.bind(this);for(var e=this.methods("body"),i=0;i<e.length;i++){var n=e[i];this.boundBody[d.methods[i]]=n}this.queue=[],this.templates=[],this.initializers=[]}function m(t,e,i){var n=t[i],s=t.boundBody;return"body"!==e?"replace"===i||"extend"===i||"wrap"===i?function(){return n.apply(t,arguments)}:function(){return n.apply(t,arguments),s}:function(){var e=n.apply(t,arguments),r=t.queue.pop(),o=t.queue[t.queue.length-1];return o.conditions=o.conditions.concat(r.conditions),o.children=o.children.concat(r.children),"replace"===i||"extend"===i||"wrap"===i?e:s}}var y=t("inherits");i.Template=n,n.prototype.wrap=function(){for(var t=this.body,e=0;e<this.predicates.length;e++){var i=this.predicates[e];t=i.wrapBody(t)}this.body=t},n.prototype.clone=function(){return new n(this.predicates.slice(),this.body)},i.MatchBase=s,s.prototype.wrapBody=function(t){return t},y(o,s),i.OnceMatch=o,y(h,s),i.WrapMatch=h,h.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this))}},y(c,s),i.ReplaceMatch=c,c.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this))}},y(l,s),i.ExtendMatch=l,l.prototype.wrapBody=function(t){var e=this.refs.applyCtx,i=this.refs.local;return"function"!=typeof t?function(){for(var n={},s=Object.keys(t),r=0;r<s.length;r++)n["ctx."+s[r]]=t[s[r]];return i(n)(function(){return e(this.ctx)})}:function(){for(var n={},s=t.call(this),r=Object.keys(s),o=0;o<r.length;o++)n["ctx."+r[o]]=s[r[o]];return i(n)(function(){return e(this.ctx)})}},y(a,s),i.CompilerOptions=a,y(u,s),i.PropertyMatch=u,y(p,s),i.PropertyAbsent=p,y(f,s),i.CustomMatch=f,i.Tree=d,d.methods=["match","once","wrap","elemMatch","block","elem","mode","mod","elemMod","def","tag","attrs","cls","js","jsAttr","bem","mix","content","replace","extend","oninit","xjstOptions"],d.prototype.build=function(t,e){var i=this.methods("global").concat(e);return i[0]=this.match.bind(this),t.apply({},i),{templates:this.templates.slice().reverse(),oninit:this.initializers}},d.prototype.methods=function(t){for(var e=new Array(d.methods.length),i=0;i<e.length;i++){var n=d.methods[i];e[i]=m(this,t,n)}return e},d.prototype.flush=function(t,e){var i;i=e.conditions?t.concat(e.conditions):e.conditions;for(var s=0;s<e.children.length;s++){var o=e.children[s];if(o instanceof r)this.flush(i,e.children[s]);else{var h=new n(t,o);h.wrap(),this.templates.push(h)}}},d.prototype.body=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++)t[e]=arguments[e];var i=new r(this,t);return this.queue[this.queue.length-1].children.push(i),1===this.queue.length&&this.flush([],this.queue.shift()),this.boundBody},d.prototype.match=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++){var i=arguments[e];"function"==typeof i&&(i=new f(i)),t[e]=i}return this.queue.push(new r(this,t)),this.boundBody},d.prototype.once=function(){return this.match(new o)},d.prototype.wrap=function(){return this.def().match(new h(this.refs))},d.prototype.xjstOptions=function(t){return this.queue.push(new r(this,[new a(t)])),this.boundBody},d.prototype.block=function(t){return this.match(new u("block",t))},d.prototype.elemMatch=function(){return this.match.apply(this,arguments)},d.prototype.elem=function(t){return this.match(new u("elem",t))},d.prototype.mode=function(t){return this.match(new u("_mode",t))},d.prototype.mod=function(t,e){return this.match(new u(["mods",t],e))},d.prototype.elemMod=function(t,e){return this.match(new u(["elemMods",t],e))},d.prototype.def=function(){return this.mode("default")},d.prototype.tag=function(){return this.mode("tag")},d.prototype.attrs=function(){return this.mode("attrs")},d.prototype.cls=function(){return this.mode("cls")},d.prototype.js=function(){return this.mode("js")},d.prototype.jsAttr=function(){return this.mode("jsAttr")},d.prototype.bem=function(){return this.mode("bem")},d.prototype.mix=function(){return this.mode("mix")},d.prototype.content=function(){return this.mode("content")},d.prototype.replace=function(){return this.def().match(new c(this.refs))},d.prototype.extend=function(){return this.def().match(new l(this.refs))},d.prototype.oninit=function(t){this.initializers.push(t)}},{inherits:8}],7:[function(t,e,i){function n(){return l+ ++o}var s=Object.prototype.toString;i.isArray=Array.isArray,i.isArray||(i.isArray=function(t){return"[object Array]"===s.call(t)}),i.xmlEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},i.attrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")},i.jsAttrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/'/g,"&#39;")},i.extend=function(t,e){if(!t||!e)return t||e;var i,n={};for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n};var r={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1};i.isShortTag=function(t){return r.hasOwnProperty(t)},i.isSimple=function(t){return t&&t!==!0?"string"==typeof t||"number"==typeof t:!0};var o=0,h=+new Date,c="__"+h,l="uniq"+h;i.getUniq=n,i.identify=function(t,e){if(!t)return n();if(e||t[c])return t[c];var i=n();return t[c]=i,i}},{}],8:[function(t,e){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},{}]},{},[4])(4)}),t.exports||e.BEMHTML}({},{}),api=new BEMHTML({});api.compile(function(){});